# OSM OnRamp

**NOTE:** This software is in a pre-alpha state. Bugs likely abound and it hasn't been fully tested against an OSM minutely replication stream.

Onramp generates immediately consistent transaction aligned OSM augmented diffs from the OSM change stream. The XML augmented diff schema generated by Onramp is compatible with Overpass, but the OSM objects represented in each augmented diff sequence id will differ.

For more about how Onramp computes augmented diffs, what "transaction aligned augmented diffs" means, and how Onramp augmented diffs compare to Overpass augmented diffs, visit [the docs](./docs/index.md).

## Cloning

This project uses git submodules. After cloning, initialize them with:

```
git submodule update --init --recursive
```

## Building

SSH into Vagrant VM with `vagrant ssh` then run `make`.

Use the generated `onramp` executable in the VM as desired.

## Development Environment

Requires:

- Vagrant 2.2+

Run `vagrant up`. Once the machine provisions, `osmx` will be available on the path anywhere in the VM.

A scratch directory `/data` is created automatically in the VM. It is recommended to copy your osm.pbf
files there before creating and querying osmx databases. This avoids I/O heavy operations within the
mounted shared folder.

Note that the default volume size of the VM is 50Gb. If you need more space you'll have to tweak the Vagrantfile.
